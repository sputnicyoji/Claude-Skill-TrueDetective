# RED Phase Observations

> 基于 true-detective (X1版) 的 RED 阶段观察，迁移到通用版本

## 观察来源

本 skill 是从 `true-detective` (X1项目专用版) 改造而来。原版本的 RED 阶段观察记录了以下失败模式：

## 继承的失败模式

### 1. 直接跳入代码
- **现象**: Agent 在没有假设的情况下直接开始读代码
- **后果**: 消耗大量 token，追踪路径混乱
- **防御**: 铁律 #3 "假设先行"

### 2. 猜测代替证据
- **现象**: Agent 说"应该是这样"但没有代码证据
- **后果**: 根因错误，修复无效
- **防御**: 铁律 #5 "证据为王"

### 3. 深度优先追踪
- **现象**: 一条路走到黑，消耗大量 token
- **后果**: 可能走错方向，无法回溯
- **防御**: 铁律 #4 "并行探索"

### 4. 浅层分析
- **现象**: 快速给出表面原因
- **后果**: 根因不准确
- **防御**: 铁律 #6 "ultrathink 必触发"

### 5. 顺手修复
- **现象**: 分析到一半开始写修复代码
- **后果**: 职责混乱，可能修错
- **防御**: 铁律 #1 "禁止修复"

## 通用化改造的额外观察

### 6. 缺少代码结构探索
- **原问题**: X1 版依赖 repomap L1/L3 提供代码结构
- **通用场景**: 没有预置的代码结构图
- **解决方案**: 新增 Phase 1.3 "代码结构探索"，使用 Task/Explore 子代理动态探索

### 7. 项目特定概念不适用
- **原问题**: X1 版包含 TFW UI、XCfg 配置表、PrefabLoader 等概念
- **通用场景**: 不同项目有不同的框架和概念
- **解决方案**: 问题模式抽象为通用类别 (P1-P6)，追踪策略保持通用

---

## 待验证

创建后需要在实际的非 X1 项目中验证：
- [ ] 代码结构探索是否有效替代 repomap
- [ ] 通用问题分类是否覆盖常见场景
- [ ] 并行探索在不同语言项目中是否有效

---

*迁移日期: 2026-02-04*
