# 证据收集模板

> 标准化的证据记录格式，适用于任意代码库

## 证据类型

| 类型 | 说明 | 权重范围 |
|------|------|----------|
| **代码** | 源代码片段 | 强-中 |
| **日志** | 运行时日志输出 | 强-中 |
| **配置** | 配置文件数据 | 中 |
| **时序** | 执行顺序分析 | 中-弱 |
| **推断** | 逻辑推理 | 弱 |

---

## 代码证据模板

```markdown
### E{n}: {证据标题}

**类型**: 代码
**权重**: {强/中/弱}
**来源**: `{path/to/file.ext}:{行号}`

**代码片段**:
```{language}
// 从第 {起始行} 行开始
{代码内容，保留缩进}
```

**上下文**:
- 所在函数/方法: `{函数名}()`
- 调用时机: {什么时候被调用}

**解读**:
{这段代码做了什么，为什么它是证据}

**支持假设**: H{n}
**反对假设**: H{m} (如果有)
```

---

## 日志证据模板

```markdown
### E{n}: {证据标题}

**类型**: 日志
**权重**: {强/中}
**来源**: {控制台 / 日志文件 / 调试输出}

**日志内容**:
```
[时间戳] [级别] {日志内容}
```

**触发代码**: `{文件}:{行号}`
```{language}
console.log(`{日志内容}`);  // JavaScript
logging.info(f"{日志内容}")  # Python
Debug.Log($"{日志内容}");   // C#
```

**解读**:
{这条日志说明了什么}

**支持假设**: H{n}
```

---

## 配置证据模板

```markdown
### E{n}: {证据标题}

**类型**: 配置
**权重**: 中
**来源**: `{config/file.json}` 或 `{.env}`

**配置数据**:
| 字段 | 值 | 说明 |
|------|-----|------|
| {字段1} | {值1} | {说明} |
| {字段2} | {值2} | {说明} |

**使用代码**: `{文件}:{行号}`
```{language}
const value = config.get('key');  // JavaScript
value = os.environ.get('KEY')     # Python
var value = Configuration["Key"]; // C#
```

**解读**:
{配置值如何影响行为}

**支持假设**: H{n}
```

---

## 时序证据模板

```markdown
### E{n}: {证据标题}

**类型**: 时序
**权重**: {中/弱}
**相关代码**:
- `{文件1}:{行号}` - {操作1}
- `{文件2}:{行号}` - {操作2}

**时序分析**:
```
操作1 ({文件1})
  ↓ {时间/条件}
操作2 ({文件2})
  ↓
{结果}
```

**关键发现**:
{时序分析揭示了什么}

**支持假设**: H{n}
```

---

## 推断证据模板

```markdown
### E{n}: {证据标题}

**类型**: 推断
**权重**: 弱
**基于**: E{x}, E{y}

**推理过程**:
1. 根据 E{x}，我们知道 {事实1}
2. 根据 E{y}，我们知道 {事实2}
3. 结合 {事实1} 和 {事实2}，可以推断 {结论}

**需要验证**:
{如何将这个推断升级为更强的证据}

**支持假设**: H{n}
```

---

## 证据权重评估

### 强证据
- 直接代码路径，100% 可复现
- 日志明确记录了关键状态
- 配置值直接导致问题行为

### 中等证据
- 间接代码关联
- 时序分析符合现象
- 逻辑推断有理有据

### 弱证据
- 类比其他案例
- 部分匹配
- 需要更多验证

---

## 证据链构建

```markdown
## 证据链

E1 (强): {代码证据}
    ↓ 证明了
{中间结论1}

    +

E2 (中): {时序证据}
    ↓ 证明了
{中间结论2}

    ↓ 组合

E1 + E2 → {最终根因}

置信度: {高/中/低}
```

---

## 证据收集检查清单

- [ ] 每个证据都有明确来源 (文件:行号)
- [ ] 每个证据都有解读说明
- [ ] 每个证据都标注了支持的假设
- [ ] 每个证据都评估了权重
- [ ] 证据之间没有矛盾
- [ ] 证据链完整，能推导出根因
