# True Detective Universal

[English](README.md) | 日本語 | [中文](README_zh-CN.md)

> **「推測するな、追跡せよ。修正するな、理解せよ。」**

**True Detective Universal** は、体系的な根本原因分析のための AI コーディングアシスタントスキルです。仮説駆動の調査と並列探索を使用して、バグの真の原因を見つけます——修正は一切行いません。

## 主な機能

このツールは厳格な「分析のみ」の規律を強制し、深層の問題を隠す可能性のある早まった修正を防ぎます。コードを読む前に複数の仮説を生成し、Task サブエージェントを使用して並列で検証します。すべての結論にはファイルパスと行番号を含むコード証拠が必要です。

コア原則：
- **仮説優先**：コードに入る前に 3-5 個の仮説を生成
- **並列探索**：複数の理論を同時に検証
- **証拠重視**：すべての結論にコード証拠が必要
- **修正禁止**：純粋な分析、根本原因レポートのみを出力

## 使用場面

True Detective Universal が得意とするもの：
- 断続的/不安定なバグのデバッグ
- レースコンディションと非同期問題の調査
- 状態管理の問題分析
- 不慣れなコードベースでの根本原因の発見

不向きな場面：単純なタイポ修正、明らかな解決策のある既知の問題、即座の修正が必要な場合。

## 問題カテゴリ

| カテゴリ | 典型的なキーワード |
|----------|-------------------|
| P1: 非同期/並行性 | 「時々」「レースコンディション」「断続的」 |
| P2: 状態管理 | 「再起動後」「不整合」「キャッシュ」 |
| P3: UI/レンダリング | 「表示されない」「ちらつき」「古い」 |
| P4: 設定/データ | 「設定」「パラメータ」「見つからない」 |
| P5: リソース/依存関係 | 「読み込み失敗」「null」「欠落」 |
| P6: ライフサイクル | 「起動時」「初回」「終了後」 |

## 4フェーズワークフロー

```
フェーズ 1: 解析 (PARSE)
  キーワード → 分類 → コード構造探索 → 仮説生成

フェーズ 2: 探索 (EXPLORE) - 並列
  ┌──────────┐  ┌──────────┐  ┌──────────┐
  │ 仮説 A   │  │ 仮説 B   │  │ 仮説 C   │  ← 並列 Task エージェント
  └────┬─────┘  └────┬─────┘  └────┬─────┘
       ↓             ↓             ↓
    証拠 A        証拠 B        証拠 C

フェーズ 3: 収束 (CONVERGE)
  証拠統合 → 深い推論 (ultrathink) → 根本原因の特定

フェーズ 4: レポート (REPORT)
  構造化レポート → 証拠チェーン → タイムライン（オプション）
```

## インストール

### Claude Code

```bash
# クローンしてプロジェクトにコピー
git clone https://github.com/sputnicyoji/Claude-Skill-TrueDetective.git
cp -r Claude-Skill-TrueDetective/* .claude/skills/true-detective-universal/
```

または `SKILL.md` と `references/` ディレクトリを `.claude/skills/true-detective-universal/` にコピーしてください。

### Cursor

`SKILL.md` の内容を `.cursorrules` または `.cursor/rules/true-detective.md` にコピーしてください。

## 使用方法

```
/true-detective-universal [問題の説明]
/tdu [問題の説明]
```

## 出力

- コード構造探索結果
- 仮説リストと検証状態
- 証拠コレクション（コードスニペット付き）
- 根本原因分析レポート

**出力しないもの**：修正コード、PR、ファイル変更

## ライセンス

MIT

## 著者

**Yoji** - 主を恐れることは知恵の初め。—— 箴言 9:10

---

*Claude Code スキルエコシステムの一部*
